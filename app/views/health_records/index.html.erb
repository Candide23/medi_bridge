<!-- health_records/index.html.erb -->
<div class="records-page py-5">
  <div class="container-fluid">
    <div class="records-header rounded-top-4 px-4 py-4 d-flex justify-content-between align-items-center text-white">
      <h2 class="fw-bold mb-0">Your Health Records</h2>
      <%= link_to "+ Upload New Record", new_health_record_path, class: "btn btn-light fw-semibold rounded-pill px-4" %>
    </div>

    <div class="container"> <!-- This centers the inner content -->
      <% if @health_records.blank? %>
        <div class="bg-white p-4 shadow-sm rounded-bottom-4 mt-3">
          <div class="alert alert-info text-center mb-0">
            No health records yet. <%= link_to "Upload one", new_health_record_path, class: "btn btn-sm btn-primary ms-2" %>
          </div>
        </div>
      <% else %>
        <div class="records-body bg-white p-4 shadow-sm rounded-bottom-4 mt-3">
          <% @health_records.each do |record| %>
            <div class="record-card border rounded-4 p-4 mb-4">
              <div class="d-flex justify-content-between align-items-start">
                <span class="badge bg-light text-primary px-3 py-2 rounded-pill text-uppercase fw-semibold"><%= record.record_type %></span>
                <input type="checkbox" />
              </div>

              <div class="mt-3 mb-2 d-flex flex-column flex-md-row gap-2">
                <span class="badge bg-light text-dark px-2 py-1 rounded-pill"><%= record.language.capitalize %></span>
                <div class="text-muted small">
                  <i class="bi bi-file-earmark-text me-1"></i>
                  <%= record.document.filename.to_s if record.document.attached? %>
                </div>
              </div>

              <div class="d-flex flex-wrap gap-2 mt-3">
                <%= link_to "View", record, class: "btn btn-sm btn-primary" %>
                <% if record.document.attached? %>
                  <%= link_to "Download", rails_blob_path(record.document, disposition: "attachment"), class: "btn btn-sm btn-outline-dark" %>
                <% end %>
                <%= link_to "Edit", edit_health_record_path(record), class: "btn btn-sm btn-outline-secondary" %>
                <%= button_to "Delete", record, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-outline-danger" %>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>





