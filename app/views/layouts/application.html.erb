<!DOCTYPE html>
<html>
  <head>
    <title>MediBridge</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <!-- Bootstrap (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>

    <!-- Custom Styles -->
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
  </head>

  <body class="d-flex flex-column min-vh-100">
    <%= render "shared/navbar" %>

    <%# Show all flash messages except "Signed in successfully." UNLESS on dashboard %>
    <% if flash.any? %>
      <% flash.each do |type, message| %>
        <% if message != "Signed in successfully." || current_page?(health_records_path) %>
          <% bootstrap_class = type == "notice" ? "info" : "danger" %>
          <div class="alert alert-<%= bootstrap_class %> alert-dismissible fade show m-3" role="alert">
            <%= message %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        <% end %>
      <% end %>
    <% end %>

    <main class="flex-grow-1">
      <% if current_page?(root_path) %>
        <%= yield %>
      <% else %>
        <div class="container mt-4">
          <%= yield %>
        </div>
      <% end %>
    </main>
  </body>
</html>




