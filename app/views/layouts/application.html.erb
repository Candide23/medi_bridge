<!DOCTYPE html>
<html>
  <head>
    <title>MediBridge</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <!-- Bootstrap CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" defer></script>

    <!-- Custom Styles -->
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="gradient-bg app-wrapper">
    <%= render "shared/navbar" %>

    <%# Flash messages (skip "Signed in successfully" unless on dashboard) %>
      <% if flash.any? %>
        <div class="<%= current_page?(root_path) ? '' : 'container mt-3' %>">
          <% flash.each do |type, message| %>
            <% if message != "Signed in successfully." || current_page?(health_records_path) %>
              <% bootstrap_class = type == "notice" ? "info" : "danger" %>
              <div class="alert alert-<%= bootstrap_class %> alert-dismissible fade show shadow-sm text-center mx-auto" style="max-width: 700px;" role="alert">
                <%= message %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            <% end %>
          <% end %>
        </div>
      <% end %>

    <main class="flex-grow-1">
      <% if current_page?(root_path) %>
        <%= yield %>
      <% else %>
        <div class="container with-bg mt-4">
          <%= yield %>
        </div>
      <% end %>
    </main>

  </body>
</html>





